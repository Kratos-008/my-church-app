(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[206],{3606:function(e,t,a){Promise.resolve().then(a.bind(a,3827))},3827:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return o}});var r=a(7437),n=a(2265);a(3079);var s=a(2119),l=(0,s.$)("c9bce9e16447166fca767452c1a607809140114f"),c=(0,s.$)("b120ee610f514b41c43115cc4164ff6f4947640d"),u=(0,s.$)("25913bf1ecb1847d7b51c6f6e0992a3bc8c548f4");(0,s.$)("a4dacb09a337d49fd6d48659f1abd63a3fbe70c0");var d=a(605),i=a(9376);function o(){let{data:e,status:t}=(0,d.useSession)(),[a,s]=(0,n.useState)([]),[o,f]=(0,n.useState)(""),[b,h]=(0,n.useState)(""),[p,x]=(0,n.useState)(""),[m,v]=(0,n.useState)("");(0,n.useEffect)(()=>{"unauthenticated"===t&&(0,i.redirect)("/auth/signin"),e&&"ADMIN"!==e.user.role&&(0,i.redirect)("/")},[e,t]),(0,n.useEffect)(()=>{(async()=>{s(await c())})()},[]);let g=async e=>{e.preventDefault(),o&&b&&p&&m&&(s([...a,await u({title:o,description:b,location:p,date:m})]),f(""),h(""),x(""),v(""))},N=async e=>{await l(e),s(a.filter(t=>t.id!==e))};return"loading"===t?(0,r.jsx)("div",{className:"p-6",children:"Loading..."}):(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Manage Events"}),(0,r.jsxs)("form",{onSubmit:g,className:"space-y-4 mb-10 max-w-xl",children:[(0,r.jsx)("input",{type:"text",placeholder:"Event Title",className:"w-full border p-2 rounded",value:o,onChange:e=>f(e.target.value),required:!0}),(0,r.jsx)("textarea",{placeholder:"Description",className:"w-full border p-2 rounded",value:b,onChange:e=>h(e.target.value),required:!0}),(0,r.jsx)("input",{type:"text",placeholder:"Location",className:"w-full border p-2 rounded",value:p,onChange:e=>x(e.target.value),required:!0}),(0,r.jsx)("input",{type:"date",className:"w-full border p-2 rounded",value:m,onChange:e=>v(e.target.value),required:!0}),(0,r.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Add Event"})]}),(0,r.jsx)("ul",{className:"space-y-4",children:a.map(e=>(0,r.jsxs)("li",{className:"border p-4 rounded bg-white shadow",children:[(0,r.jsx)("h2",{className:"font-bold text-lg",children:e.title}),(0,r.jsx)("p",{children:e.description}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["\uD83D\uDCCD ",e.location]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["\uD83D\uDCC5 ",new Date(e.date).toDateString()]}),(0,r.jsx)("button",{onClick:()=>N(e.id),className:"mt-2 text-red-600 hover:underline text-sm",children:"Delete"})]},e.id))})]})}},2119:function(e,t,a){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return n}});let r=a(3079);function n(e){let{createServerReference:t}=a(6671);return t(e,r.callServer)}}},function(e){e.O(0,[307,971,117,744],function(){return e(e.s=3606)}),_N_E=e.O()}]);