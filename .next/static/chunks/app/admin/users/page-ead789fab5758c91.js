(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[674],{2832:function(e,r,s){Promise.resolve().then(s.bind(s,7525))},7525:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return d}});var t=s(7437),n=s(2265),a=s(605),l=s(9376),c=s(7648);function d(){let{data:e,status:r}=(0,a.useSession)(),[s,d]=(0,n.useState)([]);return((0,n.useEffect)(()=>{let r=async()=>{let e=await fetch("/api/admin/users");d(await e.json())};(null==e?void 0:e.user.role)==="ADMIN"&&r()},[e]),"loading"===r)?(0,t.jsx)("div",{className:"p-6",children:"Loading..."}):(e&&"ADMIN"===e.user.role||(0,l.redirect)("/auth/signin"),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"User Management"}),(0,t.jsxs)("table",{className:"w-full table-auto border",children:[(0,t.jsx)("thead",{className:"bg-gray-100",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"p-2 border",children:"Name"}),(0,t.jsx)("th",{className:"p-2 border",children:"Email"}),(0,t.jsx)("th",{className:"p-2 border",children:"Role"}),(0,t.jsx)("th",{className:"p-2 border",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:s.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"p-2 border",children:e.name||"-"}),(0,t.jsx)("td",{className:"p-2 border",children:e.email}),(0,t.jsx)("td",{className:"p-2 border",children:e.role}),(0,t.jsxs)("td",{className:"p-2 border",children:[(0,t.jsx)("button",{className:"text-blue-600 hover:underline mr-2",children:"Edit"}),(0,t.jsx)("button",{className:"text-red-600 hover:underline",children:"Delete"})]})]},e.id))})]}),(0,t.jsx)(c.default,{href:"/admin",className:"mt-6 inline-block text-sm text-gray-500 hover:text-black",children:"‚Üê Back to Dashboard"})]}))}},7648:function(e,r,s){"use strict";s.d(r,{default:function(){return n.a}});var t=s(2972),n=s.n(t)},9376:function(e,r,s){"use strict";var t=s(5475);s.o(t,"redirect")&&s.d(r,{redirect:function(){return t.redirect}}),s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}})}},function(e){e.O(0,[972,605,971,117,744],function(){return e(e.s=2832)}),_N_E=e.O()}]);